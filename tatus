diff --git a/src/index.coffee b/src/index.coffee
index a3dbab8..04b2c28 100644
--- a/src/index.coffee
+++ b/src/index.coffee
@@ -1,3 +1,4 @@
+async = require 'async'
 configs = require './configs'
 docker = require './docker'
 dockerjs = require 'docker.js'
@@ -38,17 +39,17 @@ pubsub.on 'message', (key, json) ->
         , lockCount * 100 + Math.random() * 50
     else if key is 'dockletPrune'
       whitelist = data
-      dockerClient.listContainers (err, containers) ->
+      dockerClient.listContainers queryParams: all: true, (err, containers) ->
         if err then console.error err else
-          containers.forEach (container) ->
-            containerId = container.Id
-            if not (containerId in whitelist)
+          async.forEachSeries containers, (container, cb) ->
+            containerId = container.Id.substring 0, 12
+            if containerId in whitelist then cb() else 
               dockerClient.inspectContainer containerId, (err, res) ->
-                if err then console.error err else
-                  if res.State
-                    if not res.State.Running
-                      dockerClient.removeContainer containerId, (err) ->
-                        if err then console.error err
+                if err then cb err else
+                  if not res.State then cb() else
+                    if res.State.Running then cb() else
+                      dockerClient.removeContainer containerId, cb 
+          , (err) -> if err then console.error err 
     else
       throw new Error "Docklet received unknown message: #{key}"
   catch err
